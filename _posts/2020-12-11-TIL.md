---
layout: post
title: 의존관계 주입(토비의 스프링3.1)
categories: [Spring Framework]
tags: [TIL, Spring Framework]
description: 1.7 의존관계 주입(DI)챕터 정리
fullview: false
comments: true
---

## 1.7 의존관계 주입(DI)

### 의존관계란?
A라는 클래스가 B클래스 내 메소드 C를 사용하고 있다고 가정해보자. 이 때에는 A가 B를 의존한다고 칭한다. B안에 있는 메소드 C의 기능이 변경되거나, 추가될 경우 A에게 영향이 간다. 이렇듯 B의 변화가 A에 영향을 받고 있을 경우에는 A와 B간에 의존관계가 있다고 할 수 있다.

### 의존관계 주입이란?
의존관계 주입(Dependency Injection)이란 오브젝트 레퍼런스를 외부로부터 제공(주입)받고 이를 통해 여타 오브젝트와 다이내믹하게 의존관계가 만들어지는 것을 말한다. 의존관계 주입은 아래 세 가지 조건을 충족해야 한다.  

+ 클래스 모델 혹은 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 그러기 위해서는 인터페이스에만 의존하고 있어야 한다.  
+ 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제3의 존재가 결정한다.  
+ 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로써 만들어진다.

의존관계 주입의 핵심은 **설계 시점**에는 알지 못했던 두 오브젝트의 관계를 맺도록 도와주는 **제3의 존재**가 있다는 것이다. 이 제3의 존재는 전략패턴에서 말하는 클라이언트라고 말할 수도 있고, 팩토리 클래스 일 수도 있다.
#### 주입
주입이라는 건 외부에서 내부로 무엇인가를 넘겨줘야 하는 것을 말한다. 자바에서 오브젝트에 무엇인가를 넣어준다는 개념은 메소드를 실행하면서 파라미터로 오브젝트의 레퍼런스를 전달해주는 방법 뿐이다. 가장 쉬운 방법은 생성자이다(물론 setter나 일반 메소드로도 가능하다).

#### 실제 오브젝트가 아닌 인터페이스를 통해 의존관계를 형성한다면 ?
인터페이스를 구현한 클래스가 다른 것으로 바뀌거나, 내부에서 사용하는 메소드에 변화가 생겨도 클라이언트(실제 해당 오브젝트를 주입받는 오브젝트)에는 영향이 가지 않는다. 인터페이스 구현 클래스와의 관계는 느슨해지면서 변화에 영향을 덜 받는 상태가 된다.



***

 토비의 스프링 3.1을 토대로 작성하였으나, 개인적인 의견이 담겨있어 부정확한 내용이 작성되었을 수 있습니다. 코멘트로 많은 의견 부탁드립니다 :)